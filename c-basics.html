<!DOCTYPE html>
<html lang='en'>
<head>
  <title>C Basics - Ry’s Objective-C Tutorial - RyPress</title>
  <meta charset='UTF-8' />
  <meta name='description' content="Objective-C is a strict superset of C, which means that it’s possible
to seamlessly combine both languages in the same source file. In fact,
Objective-C relies on C for most of its core language constructs, so
it’s important to have at least a basic foundation in C before tackling
the higher-level aspects of the language." />
  <meta name='viewport'
  	    content='width=device-width, initial-scale=1.0, maximum-scale=1.0' />
  <link rel="icon" type="image/png" href="media/favicon.png" />
  <link rel="stylesheet" href="media/style.css" />
  <link rel="stylesheet" href="media/pygments.css" />

  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
  
    ga('create', 'UA-37121774-2', 'auto');
    ga('send', 'pageview');
  </script>

  
</head>
<body>

<div id='page'>

<div id='content'>

<nav id='main-nav'>
	<a href='/'><img src='media/logo-small.png'
		 width='120px'
		 alt='RyPress - Quality Software Tutorials'/></a>
	<ul>
	<li><a href='/'>Tutorials</a></li>
	<li><a href='/secure/purchases.php'>Purchases</a></li>
	<li><a href='/about.php'>About</a></li>
	</ul>
</nav>

<div class='divider'></div>
<table class="icon-and-text"><tr>
<td><a href="index"><img src="media/icons/index.png" width="40px" height="40px"></a></td>
<td><p>You’re

			
					reading
				<a href="index.html"><em>Ry’s Objective-C Tutorial</em></a></p></td>
</tr></table><div class="divider"></div>

<h1 id="c-basics">C Basics</h1>

<p>Objective-C is a strict superset of C, which means that it’s possible
to seamlessly combine both languages in the same source file. In fact,
Objective-C <em>relies</em> on C for most of its core language constructs, so
it’s important to have at least a basic foundation in C before tackling
the higher-level aspects of the language.</p>

<figure>
    <img style="max-width: 200px" src="media/c-basics/obj-c-superset.png">
    <figcaption>The relationship between Objective-C and C</figcaption>
</figure>

<p>This module provides a concise overview the C programming language.
We’ll talk about comments, variables, mathematical operators, control
flow, simple data structures, and the integral role of pointers in Objective-C
programs. This will give us the necessary background to discuss
Objective-C’s object-oriented features.</p>


<h2 id="comments">Comments</h2>

<p>There are two ways to include commentary text in a C program. <strong>Inline
comments</strong> begin with a double slash and terminate at the end of the
current line. <strong>Block comments</strong> can span multiple lines, but they
must be enclosed in <code>/*</code> and <code>*/</code> characters. For
example:</p>

<pre><code class="c1">// This is an inline comment</code>

<code class="cm">/* This is a block comment.</code>
<code class="cm">   It can span multiple lines. */</code>
</pre>


<p>Since comments are completely ignored by the compiler, they let you include
extra information alongside your code. This can be useful for explaining
confusing snippets; however, Objective-C is designed to be very
self-documenting, so you shouldn’t really need to include a lot comments
in your iOS or OS X applications.</p>


<h2 id="variables">Variables</h2>

<p><strong>Variables</strong> are containers that can store different values.
In C, variables are statically typed, which means that you must explicitly
state what kind of value they will hold. To <strong>declare</strong> a
variable, you use the <code>&lt;type&gt; &lt;name&gt;</code> syntax, and
to assign a value to it you use the <code>=</code> operator. If you need to
interpret a variable as a different type, you can <strong>cast</strong> it by
prefixing it with the new type in parentheses.</p>

<p>All of this is demonstrated in the following example. It declares a variable
called <code>odometer</code> that stores a value of type <code>double</code>.
The <code>(int)odometer</code> statement casts the value stored in
<code>odometer</code> to an integer. If you paste this code into your
<code>main.m</code> file in Xcode and run the program, you should see the
<code>NSLog()</code> messages displayed in your <em>Output</em> panel.</p>

<pre><code class="c1">// main.m</code>
<code class="cp">#import</code> <code class="l">&lt;Foundation/Foundation.h&gt;</code><code class="cp"></code>

<code class="kt">int</code> <code class="nf">main</code><code class="p">(</code><code class="kt">int</code> <code class="n">argc</code><code class="p">,</code> <code class="kt">const</code> <code class="kt">char</code> <code class="o">*</code> <code class="n">argv</code><code class="p">[])</code> <code class="p">{</code>
    <code class="k">@autoreleasepool</code> <code class="p">{</code>
        <code class="kt">double</code> <code class="n">odometer</code> <code class="o">=</code> <code class="mf">9200.8</code><code class="p">;</code>
        <code class="kt">int</code> <code class="n">odometerAsInteger</code> <code class="o">=</code> <code class="p">(</code><code class="kt">int</code><code class="p">)</code><code class="n">odometer</code><code class="p">;</code>
        
        <code class="nb">NSLog</code><code class="p">(</code><code class="s">@&quot;You&#39;ve driven %.1f miles&quot;</code><code class="p">,</code> <code class="n">odometer</code><code class="p">);</code>        <code class="c1">// 9200.8</code>
        <code class="nb">NSLog</code><code class="p">(</code><code class="s">@&quot;You&#39;ve driven %d miles&quot;</code><code class="p">,</code> <code class="n">odometerAsInteger</code><code class="p">);</code> <code class="c1">// 9200</code>
    <code class="p">}</code>
    <code class="k">return</code> <code class="mi">0</code><code class="p">;</code>
<code class="p">}</code>
</pre>


<p>Along with <code>double</code> and <code>int</code>, C defines a plethora of
primitive data types. A comprehensive list can be found in the <a href="data-types/primitives.html">Primitives</a> module, as well as an
explanation of the <code>%.1f</code> and <code>%d</code> format specifiers used
above.</p>


<h3 id="constants">Constants</h3>

<p>The <code>const</code> variable modifier can be used to tell the compiler
that a variable is never allowed to change. For example, defining a constant
called <code>pi</code> and then trying to alter it will result in a compiler
error:</p>

<pre><code class="kt">double</code> <code class="kt">const</code> <code class="n">pi</code> <code class="o">=</code> <code class="mf">3.14159</code><code class="p">;</code>
<code class="n">pi</code> <code class="o">=</code> <code class="mf">42001.0</code><code class="p">;</code>               <code class="c1">// Compiler error</code>
</pre>


<p>This is often used in <a href="functions.html">function</a> parameters to
inform the caller that they can safely assume whatever value they pass will not
be altered by the function.</p>


<h2 id="arithmetic">Arithmetic</h2>

<p>The familiar <code>+</code>, <code>-</code>, <code>*</code>, <code>/</code>
symbols are used for basic arithmetic operations, and the modulo operator
(<code>%</code>) can be used to return the remainder of an integer division.
These are all demonstrated below.</p>

<pre><code class="nb">NSLog</code><code class="p">(</code><code class="s">@&quot;6 + 2 = %d&quot;</code><code class="p">,</code>  <code class="mi">6</code> <code class="o">+</code> <code class="mi">2</code><code class="p">)</code><code class="o">;</code>    <code class="c1">// 8</code>
<code class="nb">NSLog</code><code class="p">(</code><code class="s">@&quot;6 - 2 = %d&quot;</code><code class="p">,</code>  <code class="mi">6</code> <code class="o">-</code> <code class="mi">2</code><code class="p">)</code><code class="o">;</code>    <code class="c1">// 4</code>
<code class="nb">NSLog</code><code class="p">(</code><code class="s">@&quot;6 * 2 = %d&quot;</code><code class="p">,</code>  <code class="mi">6</code> <code class="o">*</code> <code class="mi">2</code><code class="p">)</code><code class="o">;</code>    <code class="c1">// 12</code>
<code class="nb">NSLog</code><code class="p">(</code><code class="s">@&quot;6 / 2 = %d&quot;</code><code class="p">,</code>  <code class="mi">6</code> <code class="o">/</code> <code class="mi">2</code><code class="p">)</code><code class="o">;</code>    <code class="c1">// 3</code>
<code class="nb">NSLog</code><code class="p">(</code><code class="s">@&quot;6 %% 2 = %d&quot;</code><code class="p">,</code> <code class="mi">6</code> <code class="o">%</code> <code class="mi">2</code><code class="p">)</code><code class="o">;</code>    <code class="c1">// 0</code>
</pre>


<p>Special care must be taken when performing operations that involve both
floating-point and integer types. Please see <a href="data-types/primitives.html#integer-division">Integer Division</a> for
details.</p>

<p>You’ll also frequently encounter the increment (<code>++</code>) and
decrement (<code>--</code>) operators when working with loops. These are
convenience operators for adding or subtracting <code>1</code> from a variable.
For example:</p>

<pre><code class="kt">int</code> <code class="n">i</code> <code class="o">=</code> <code class="mi">0</code><code class="p">;</code>
<code class="nb">NSLog</code><code class="p">(</code><code class="s">@&quot;%d&quot;</code><code class="p">,</code> <code class="n">i</code><code class="p">)</code><code class="o">;</code>    <code class="c1">// 0</code>
<code class="n">i</code><code class="o">++</code><code class="p">;</code>
<code class="nb">NSLog</code><code class="p">(</code><code class="s">@&quot;%d&quot;</code><code class="p">,</code> <code class="n">i</code><code class="p">)</code><code class="o">;</code>    <code class="c1">// 1</code>
<code class="n">i</code><code class="o">++</code><code class="p">;</code>
<code class="nb">NSLog</code><code class="p">(</code><code class="s">@&quot;%d&quot;</code><code class="p">,</code> <code class="n">i</code><code class="p">)</code><code class="o">;</code>    <code class="c1">// 2</code>
</pre>



<h2 id="conditionals">Conditionals</h2>

<p>C provides the standard <code>if</code> statement found in most programming
languages. Its syntax, along with a table describing the most common
relational/logical operators, is shown below.</p>

<pre><code class="kt">int</code> <code class="n">modelYear</code> <code class="o">=</code> <code class="mi">1990</code><code class="p">;</code>
<code class="k">if</code> <code class="p">(</code><code class="n">modelYear</code> <code class="o">&lt;</code> <code class="mi">1967</code><code class="p">)</code> <code class="p">{</code>
    <code class="nb">NSLog</code><code class="p">(</code><code class="s">@&quot;That car is an antique!!!&quot;</code><code class="p">);</code>
<code class="p">}</code> <code class="k">else</code> <code class="k">if</code> <code class="p">(</code><code class="n">modelYear</code> <code class="o">&lt;=</code> <code class="mi">1991</code><code class="p">)</code> <code class="p">{</code>
    <code class="nb">NSLog</code><code class="p">(</code><code class="s">@&quot;That car is a classic!&quot;</code><code class="p">);</code>
<code class="p">}</code> <code class="k">else</code> <code class="k">if</code> <code class="p">(</code><code class="n">modelYear</code> <code class="o">==</code> <code class="mi">2013</code><code class="p">)</code> <code class="p">{</code>
    <code class="nb">NSLog</code><code class="p">(</code><code class="s">@&quot;That&#39;s a brand new car!&quot;</code><code class="p">);</code>
<code class="p">}</code> <code class="k">else</code> <code class="p">{</code>
    <code class="nb">NSLog</code><code class="p">(</code><code class="s">@&quot;There&#39;s nothing special about that car.&quot;</code><code class="p">);</code>
<code class="p">}</code>
</pre>


<table>
<thead>
    <tr>
        <th class="center">Operator</th>
        <th>Description</th>
    </tr>
</thead>
<tbody>
    <tr>
        <td class="center"><code>a == b</code></td>
        <td>Equal to</td>
    </tr>
    <tr>
        <td class="center"><code>a != b</code></td>
        <td>Not equal to</td>
    </tr>
    <tr>
        <td class="center"><code>a &gt; b</code></td>
        <td>Greater than</td>
    </tr>
    <tr>
        <td class="center"><code>a &gt;= b</code></td>
        <td>Greater than or equal to</td>
    </tr>
    <tr>
        <td class="center"><code>a &lt; b</code></td>
        <td>Less than</td>
    </tr>
    <tr>
        <td class="center"><code>a &lt;= b</code></td>
        <td>Less than or equal to</td>
    </tr>
    <tr>
        <td class="center"><code>!a</code></td>
        <td>Logical negation</td>
    </tr>
    <tr>
        <td class="center"><code>a &amp;&amp; b</code></td>
        <td>Logical and</td>
    </tr>
    <tr>
        <td class="center"><code>a || b</code></td>
        <td>Logical or</td>
    </tr>
</tbody>
</table>

<p>C also includes a <code>switch</code> statement, however it only works with
integral types—not floating-point numbers, pointers, or Objective-C
objects. This makes it rather inflexible when compared to the <code>if</code>
conditionals discussed above.</p>

<pre><code class="c1">// Switch statements (only work with integral types) </code>
<code class="k">switch</code> <code class="p">(</code><code class="n">modelYear</code><code class="p">)</code> <code class="p">{</code>
    <code class="k">case</code> <code class="mi">1987</code><code class="o">:</code>
        <code class="nb">NSLog</code><code class="p">(</code><code class="s">@&quot;Your car is from 1987.&quot;</code><code class="p">);</code>
        <code class="k">break</code><code class="p">;</code>
    <code class="k">case</code> <code class="mi">1988</code><code class="o">:</code>
        <code class="nb">NSLog</code><code class="p">(</code><code class="s">@&quot;Your car is from 1988.&quot;</code><code class="p">);</code>
        <code class="k">break</code><code class="p">;</code>
    <code class="k">case</code> <code class="mi">1989</code><code class="o">:</code>
    <code class="k">case</code> <code class="mi">1990</code><code class="o">:</code>
        <code class="nb">NSLog</code><code class="p">(</code><code class="s">@&quot;Your car is from 1989 or 1990.&quot;</code><code class="p">);</code>
        <code class="k">break</code><code class="p">;</code>
    <code class="k">default</code><code class="o">:</code>
        <code class="nb">NSLog</code><code class="p">(</code><code class="s">@&quot;I have no idea when your car was made.&quot;</code><code class="p">);</code>
        <code class="k">break</code><code class="p">;</code>
<code class="p">}</code>
</pre>


        
<h2 id="loops">Loops</h2>

<p>The <code>while</code> and <code>for</code> loops can be used for iterating
over values, and the related <code>break</code> and <code>continue</code>
keywords let you exit a loop prematurely or skip an iteration,
respectively.</p>

<pre><code class="kt">int</code> <code class="n">modelYear</code> <code class="o">=</code> <code class="mi">1990</code><code class="p">;</code>
<code class="c1">// While loops</code>
<code class="kt">int</code> <code class="n">i</code> <code class="o">=</code> <code class="mi">0</code><code class="p">;</code>
<code class="k">while</code> <code class="p">(</code><code class="n">i</code><code class="o">&lt;</code><code class="mi">5</code><code class="p">)</code> <code class="p">{</code>
    <code class="k">if</code> <code class="p">(</code><code class="n">i</code> <code class="o">==</code> <code class="mi">3</code><code class="p">)</code> <code class="p">{</code>
        <code class="nb">NSLog</code><code class="p">(</code><code class="s">@&quot;Aborting the while-loop&quot;</code><code class="p">);</code>
        <code class="k">break</code><code class="p">;</code>
    <code class="p">}</code>
    <code class="nb">NSLog</code><code class="p">(</code><code class="s">@&quot;Current year: %d&quot;</code><code class="p">,</code> <code class="n">modelYear</code> <code class="o">+</code> <code class="n">i</code><code class="p">);</code>
    <code class="n">i</code><code class="o">++</code><code class="p">;</code>
<code class="p">}</code>
<code class="c1">// For loops</code>
<code class="k">for</code> <code class="p">(</code><code class="kt">int</code> <code class="n">i</code><code class="o">=</code><code class="mi">0</code><code class="p">;</code> <code class="n">i</code><code class="o">&lt;</code><code class="mi">5</code><code class="p">;</code> <code class="n">i</code><code class="o">++</code><code class="p">)</code> <code class="p">{</code>
    <code class="k">if</code> <code class="p">(</code><code class="n">i</code> <code class="o">==</code> <code class="mi">3</code><code class="p">)</code> <code class="p">{</code>
        <code class="nb">NSLog</code><code class="p">(</code><code class="s">@&quot;Skipping a for-loop iteration&quot;</code><code class="p">);</code>
        <code class="k">continue</code><code class="p">;</code>
    <code class="p">}</code>
    <code class="nb">NSLog</code><code class="p">(</code><code class="s">@&quot;Current year: %d&quot;</code><code class="p">,</code> <code class="n">modelYear</code> <code class="o">+</code> <code class="n">i</code><code class="p">);</code>
<code class="p">}</code>
</pre>


<p>While it’s technically not a part of the C programming language, this
is an appropriate time to introduce the <code>for-in</code> loop. This is
referred to as the <strong>fast-enumeration</strong> syntax because it’s
a more efficient way to iterate over Objective-C collections like <a href="data-types/nsset.html"><code>NSSet</code></a> and <a href="data-types/nsarray.html"><code>NSArray</code></a> than the traditional
<code>for</code> and <code>while</code> loops.</p>

<pre><code class="c1">// For-in loops (&quot;Fast-enumeration,&quot; specific to Objective-C)</code>
<code class="nb">NSArray</code> <code class="o">*</code><code class="n">models</code> <code class="o">=</code> <code class="p">@[</code><code class="s">@&quot;Ford&quot;</code><code class="p">,</code> <code class="s">@&quot;Honda&quot;</code><code class="p">,</code> <code class="s">@&quot;Nissan&quot;</code><code class="p">,</code> <code class="s">@&quot;Porsche&quot;</code><code class="p">];</code>
<code class="k">for</code> <code class="p">(</code><code class="kt">id</code> <code class="n">model</code> <code class="k">in</code> <code class="n">models</code><code class="p">)</code> <code class="p">{</code>
    <code class="nb">NSLog</code><code class="p">(</code><code class="s">@&quot;%@&quot;</code><code class="p">,</code> <code class="n">model</code><code class="p">);</code>
<code class="p">}</code>
</pre>



<h2 id="macros">Macros</h2>

<p>Macros are a low-level way to define symbolic constants and space-saving
abbreviations. The <code>#define</code> directive maps a macro name to an
expansion, which is an arbitrary sequence of characters. Before the compiler
tries to parse the code, the preprocessor replaces all occurrences of the macro
name with its expansion. In other words, it’s a straightforward
search-and-replace:</p>

<pre><code class="c1">// main.m</code>
<code class="cp">#import</code> <code class="l">&lt;Foundation/Foundation.h&gt;</code><code class="cp"></code>

<code class="cp">#define</code> <code class="l">PI 3.14159</code><code class="cp"></code>
<code class="cp">#define</code> <code class="l">RAD_TO_DEG(radians) (radians * (180.0 / PI))</code><code class="cp"></code>

<code class="kt">int</code> <code class="nf">main</code><code class="p">(</code><code class="kt">int</code> <code class="n">argc</code><code class="p">,</code> <code class="kt">const</code> <code class="kt">char</code> <code class="o">*</code> <code class="n">argv</code><code class="p">[])</code> <code class="p">{</code>
    <code class="k">@autoreleasepool</code> <code class="p">{</code>
        <code class="kt">double</code> <code class="n">angle</code> <code class="o">=</code> <code class="n">PI</code> <code class="o">/</code> <code class="mi">2</code><code class="p">;</code>              <code class="c1">// 1.570795</code>
        <code class="nb">NSLog</code><code class="p">(</code><code class="s">@&quot;%f&quot;</code><code class="p">,</code> <code class="n">RAD_TO_DEG</code><code class="p">(</code><code class="n">angle</code><code class="p">));</code>    <code class="c1">// 90.0</code>
    <code class="p">}</code>
    <code class="k">return</code> <code class="mi">0</code><code class="p">;</code>
<code class="p">}</code>
</pre>


<p>This code snippet demonstrates the two types of C macros: object-like macros
(<code>PI</code>) and function-like macros (<code>RAD_TO_DEG(radians)</code>).
The only difference is that the latter is smart enough to accept arguments and
alter their expansions accordingly.</p>


<h2 id="typedef">Typedef</h2>

<p>The <code>typedef</code> keyword lets you create new data types or redefine
existing ones. After typedef’ing an <code>unsigned char</code> in the
following example, we can use <code>ColorComponent</code> just like we would
use <code>char</code>, <code>int</code>, <code>double</code>, or any other
built-in type:</p>

<pre><code class="c1">// main.m</code>
<code class="cp">#import</code> <code class="l">&lt;Foundation/Foundation.h&gt;</code><code class="cp"></code>

<code class="k">typedef</code> <code class="kt">unsigned</code> <code class="kt">char</code> <code class="n">ColorComponent</code><code class="p">;</code>

<code class="kt">int</code> <code class="nf">main</code><code class="p">(</code><code class="kt">int</code> <code class="n">argc</code><code class="p">,</code> <code class="kt">const</code> <code class="kt">char</code> <code class="o">*</code> <code class="n">argv</code><code class="p">[])</code> <code class="p">{</code>
    <code class="k">@autoreleasepool</code> <code class="p">{</code>
        <code class="n">ColorComponent</code> <code class="n">red</code> <code class="o">=</code> <code class="mi">255</code><code class="p">;</code>
        <code class="n">ColorComponent</code> <code class="n">green</code> <code class="o">=</code> <code class="mi">160</code><code class="p">;</code>
        <code class="n">ColorComponent</code> <code class="n">blue</code> <code class="o">=</code> <code class="mi">0</code><code class="p">;</code>
        <code class="nb">NSLog</code><code class="p">(</code><code class="s">@&quot;Your paint job is (R: %hhu, G: %hhu, B: %hhu)&quot;</code><code class="p">,</code>
              <code class="n">red</code><code class="p">,</code> <code class="n">green</code><code class="p">,</code> <code class="n">blue</code><code class="p">);</code>
    <code class="p">}</code>
    <code class="k">return</code> <code class="mi">0</code><code class="p">;</code>
<code class="p">}</code>
</pre>


<p>While this adds some meaningful semantics to our code, <code>typedef</code>
is more commonly used to turn <code>struct</code>’s and
<code>enum</code>’s into convenient data types. This is demonstrated in
the next two sections.</p>


<h2 id="structs">Structs</h2>

<p>A <code>struct</code> is like a simple, primitive C object. It lets you
aggregate several variables into a more complex data structure, but
doesn’t provide any OOP features (e.g., methods). For example, the
following snippet uses a <code>struct</code> to group the components of an RGB
color. Also notice how we <code>typedef</code> the <code>struct</code> so that
we can access it via a meaningful name.</p>

<pre><code class="c1">// main.m</code>
<code class="cp">#import</code> <code class="l">&lt;Foundation/Foundation.h&gt;</code><code class="cp"></code>

<code class="k">typedef</code> <code class="k">struct</code> <code class="p">{</code>
    <code class="kt">unsigned</code> <code class="kt">char</code> <code class="n">red</code><code class="p">;</code>
    <code class="kt">unsigned</code> <code class="kt">char</code> <code class="n">green</code><code class="p">;</code>
    <code class="kt">unsigned</code> <code class="kt">char</code> <code class="n">blue</code><code class="p">;</code>
<code class="p">}</code> <code class="n">Color</code><code class="p">;</code>

<code class="kt">int</code> <code class="nf">main</code><code class="p">(</code><code class="kt">int</code> <code class="n">argc</code><code class="p">,</code> <code class="kt">const</code> <code class="kt">char</code> <code class="o">*</code> <code class="n">argv</code><code class="p">[])</code> <code class="p">{</code>
    <code class="k">@autoreleasepool</code> <code class="p">{</code>
        <code class="n">Color</code> <code class="n">carColor</code> <code class="o">=</code> <code class="p">{</code><code class="mi">255</code><code class="p">,</code> <code class="mi">160</code><code class="p">,</code> <code class="mi">0</code><code class="p">};</code>
        <code class="nb">NSLog</code><code class="p">(</code><code class="s">@&quot;Your paint job is (R: %hhu, G: %hhu, B: %hhu)&quot;</code><code class="p">,</code>
              <code class="n">carColor</code><code class="p">.</code><code class="n">red</code><code class="p">,</code> <code class="n">carColor</code><code class="p">.</code><code class="n">green</code><code class="p">,</code> <code class="n">carColor</code><code class="p">.</code><code class="n">blue</code><code class="p">);</code>
    <code class="p">}</code>
    <code class="k">return</code> <code class="mi">0</code><code class="p">;</code>
<code class="p">}</code>
</pre>


<p>To populate the new <code>carColor</code> structure, we used the <code>{255,
160, 0}</code> <strong>initializer syntax</strong>. This assigns values in the
same order as they were declared in the <code>struct</code>. And, as you can
see, each of its fields can be accessed via dot-syntax.</p>


<h2 id="enums">Enums</h2>

<p>The <code>enum</code> keyword is used to create an <strong>enumerated
type</strong>, which is a collection of related constants. Like
<code>structs</code>, it’s often convenient to <code>typedef</code>
enumerated types with a descriptive name:</p>

<pre><code class="c1">// main.m</code>
<code class="cp">#import</code> <code class="l">&lt;Foundation/Foundation.h&gt;</code><code class="cp"></code>

<code class="k">typedef</code> <code class="k">enum</code> <code class="p">{</code>
    <code class="n">FORD</code><code class="p">,</code>
    <code class="n">HONDA</code><code class="p">,</code>
    <code class="n">NISSAN</code><code class="p">,</code>
    <code class="n">PORSCHE</code>
<code class="p">}</code> <code class="n">CarModel</code><code class="p">;</code>

<code class="kt">int</code> <code class="nf">main</code><code class="p">(</code><code class="kt">int</code> <code class="n">argc</code><code class="p">,</code> <code class="kt">const</code> <code class="kt">char</code> <code class="o">*</code> <code class="n">argv</code><code class="p">[])</code> <code class="p">{</code>
    <code class="k">@autoreleasepool</code> <code class="p">{</code>
        <code class="n">CarModel</code> <code class="n">myCar</code> <code class="o">=</code> <code class="n">NISSAN</code><code class="p">;</code>
        <code class="k">switch</code> <code class="p">(</code><code class="n">myCar</code><code class="p">)</code> <code class="p">{</code>
            <code class="k">case</code> <code class="nf">FORD:</code>
            <code class="k">case</code> <code class="nf">PORSCHE:</code>
                <code class="nb">NSLog</code><code class="p">(</code><code class="s">@&quot;You like Western cars?&quot;</code><code class="p">);</code>
                <code class="k">break</code><code class="p">;</code>
            <code class="k">case</code> <code class="nf">HONDA:</code>
            <code class="k">case</code> <code class="nf">NISSAN:</code>
                <code class="nb">NSLog</code><code class="p">(</code><code class="s">@&quot;You like Japanese cars?&quot;</code><code class="p">);</code>
                <code class="k">break</code><code class="p">;</code>
            <code class="k">default</code><code class="o">:</code>
                <code class="k">break</code><code class="p">;</code>
        <code class="p">}</code>
    <code class="p">}</code>
    <code class="k">return</code> <code class="mi">0</code><code class="p">;</code>
<code class="p">}</code>
</pre>


<p>Since the <code>myCar</code> variable was declared with the
<code>CarModel</code> type, it can only store the four
<strong>enumerators</strong> defined by the enumerated type: <code>FORD</code>,
<code>HONDA</code>, <code>NISSAN</code>, and <code>PORSCHE</code>. Defining
these in an enumerated type is more reliable than representing the various
<code>CarModel</code>’s with arbitrary strings, as it’s impervious
to spelling errors (the compiler will let you know when you mistype one of the
above enumerators).</p>

<p>The Cocoa frameworks rely on enums for many of their constants.  For
example, <a href="https://developer.apple.com/library/mac/documentation/Cocoa/Reference/Foundation/Miscellaneous/Foundation_Constants/index.html#//apple_ref/c/tdef/NSSearchPathDirectory"><code>NSSearchPathDirectory</code></a>
defines the standard directory paths used by OS X. The <a href="http://rypress.com/tutorials/cocoa/persistent-data">Persistent Data</a>
chapter of <a href="http://rypress.com/tutorials/cocoa">Ry’s Cocoa
Tutorial</a> provides many examples of how this works.</p>


<h2 id="primitive-arrays">Primitive Arrays</h2>

<p>Since Objective-C is a superset of C, it has access to the primitive arrays
found in C. Generally, the higher-level <a href="data-types/nsarray.html"><code>NSArray</code></a> and <a href="data-types/nsarray.html#nsmutablearray"><code>NSMutableArray</code></a>
classes provided by the Foundation Framework are much more convenient than C
arrays; however, primitive arrays can still prove useful for performance
intensive environments. Their syntax is as follows:</p>

<pre><code class="kt">int</code> <code class="n">years</code><code class="p">[</code><code class="mi">4</code><code class="p">]</code> <code class="o">=</code> <code class="p">{</code><code class="mi">1968</code><code class="p">,</code> <code class="mi">1970</code><code class="p">,</code> <code class="mi">1989</code><code class="p">,</code> <code class="mi">1999</code><code class="p">};</code>
<code class="n">years</code><code class="p">[</code><code class="mi">0</code><code class="p">]</code> <code class="o">=</code> <code class="mi">1967</code><code class="p">;</code>
<code class="k">for</code> <code class="p">(</code><code class="kt">int</code> <code class="n">i</code><code class="o">=</code><code class="mi">0</code><code class="p">;</code> <code class="n">i</code><code class="o">&lt;</code><code class="mi">4</code><code class="p">;</code> <code class="n">i</code><code class="o">++</code><code class="p">)</code> <code class="p">{</code>
    <code class="nb">NSLog</code><code class="p">(</code><code class="s">@&quot;The year at index %d is: %d&quot;</code><code class="p">,</code> <code class="n">i</code><code class="p">,</code> <code class="n">years</code><code class="p">[</code><code class="n">i</code><code class="p">]);</code>
<code class="p">}</code>
</pre>


<p>The <code>int years[4]</code> statement allocates a contiguous block of
memory large enough to store 4 <code>int</code> values. We then populate the
array using the <code>{1968, ...}</code> initializer syntax and access its
elements by passing offsets between square brackets (e.g.,
<code>years[i]</code>).</p>


<h2 id="pointers">Pointers</h2>

<p>A pointer is a direct reference to a memory address. Whereas a variable acts
as a transparent container for a value, pointers remove a layer of abstraction
and let you see how that value is stored. This requires two new tools:</p>

<ul>
    <li>The reference operator (<code>&amp;</code>) returns the memory address
    of a normal variable. This is how you create pointers.</li>
    <li>The dereference operator (<code>*</code>) returns the contents of a
    pointer’s memory address.</li>
</ul>

<p>The following example demonstrates how to declare, create, and dereference
pointers. Note that defining a pointer looks exactly like defining a normal
variable, except it’s prepended with an asterisk (<code>*</code>).</p>

<pre><code class="kt">int</code> <code class="n">year</code> <code class="o">=</code> <code class="mi">1967</code><code class="p">;</code>          <code class="c1">// Define a normal variable</code>
<code class="kt">int</code> <code class="o">*</code><code class="n">pointer</code><code class="p">;</code>             <code class="c1">// Declare a pointer that points to an int</code>
<code class="n">pointer</code> <code class="o">=</code> <code class="o">&amp;</code><code class="n">year</code><code class="p">;</code>          <code class="c1">// Find the memory address of the variable</code>
<code class="nb">NSLog</code><code class="p">(</code><code class="s">@&quot;%d&quot;</code><code class="p">,</code> <code class="o">*</code><code class="n">pointer</code><code class="p">)</code><code class="o">;</code>   <code class="c1">// Dereference the address to get its value</code>
<code class="o">*</code><code class="n">pointer</code> <code class="o">=</code> <code class="mi">1990</code><code class="p">;</code>          <code class="c1">// Assign a new value to the memory address</code>
<code class="nb">NSLog</code><code class="p">(</code><code class="s">@&quot;%d&quot;</code><code class="p">,</code> <code class="n">year</code><code class="p">)</code><code class="o">;</code>       <code class="c1">// Access the value via the variable</code>
</pre>


<p>The behavior of these pointer operators can be visualized as follows:</p>

<figure>
    <img style="max-width: 480px" src="media/c-basics/pointers.png">
</figure>

<p>In the above example, pointers are merely an unnecessary abstraction for
normal variables. Their real utility comes from the fact that you can
<em>move</em> a pointer to the surrounding memory addresses. This is
particularly useful for navigating arrays, which are just contiguous blocks of
memory. For example, the code below uses a pointer to iterate through the
elements of an array.</p>

<pre><code class="kt">char</code> <code class="n">model</code><code class="p">[</code><code class="mi">5</code><code class="p">]</code> <code class="o">=</code> <code class="p">{</code><code class="sc">&#39;H&#39;</code><code class="p">,</code> <code class="sc">&#39;o&#39;</code><code class="p">,</code> <code class="sc">&#39;n&#39;</code><code class="p">,</code> <code class="sc">&#39;d&#39;</code><code class="p">,</code> <code class="sc">&#39;a&#39;</code><code class="p">};</code>
<code class="kt">char</code> <code class="o">*</code><code class="n">modelPointer</code> <code class="o">=</code> <code class="o">&amp;</code><code class="n">model</code><code class="p">[</code><code class="mi">0</code><code class="p">];</code>
<code class="k">for</code> <code class="p">(</code><code class="kt">int</code> <code class="n">i</code><code class="o">=</code><code class="mi">0</code><code class="p">;</code> <code class="n">i</code><code class="o">&lt;</code><code class="mi">5</code><code class="p">;</code> <code class="n">i</code><code class="o">++</code><code class="p">)</code> <code class="p">{</code>
    <code class="nb">NSLog</code><code class="p">(</code><code class="s">@&quot;Value at memory address %p is %c&quot;</code><code class="p">,</code>
          <code class="n">modelPointer</code><code class="p">,</code> <code class="o">*</code><code class="n">modelPointer</code><code class="p">);</code>
    <code class="n">modelPointer</code><code class="o">++</code><code class="p">;</code>
<code class="p">}</code>
<code class="nb">NSLog</code><code class="p">(</code><code class="s">@&quot;The first letter is %c&quot;</code><code class="p">,</code> <code class="o">*</code><code class="p">(</code><code class="n">modelPointer</code> <code class="o">-</code> <code class="mi">5</code><code class="p">));</code>
</pre>


<p>When used with a pointer, the <code>++</code> operator moves the it to the
next memory address, which we can display through <code>NSLog()</code> with the
<code>%p</code> specifier. Likewise, the <code>--</code> operator can be used
to decrement the pointer to the previous address. And, as shown in the last
line, you can access an arbitrary address relative to the current pointer
position.</p>


<h3 id="the-null-pointer">The Null Pointer</h3>

<p>The null pointer is a special kind of pointer that doesn’t point to
anything. There is only one null pointer in C, and it is referenced through the
<code>NULL</code> macro. This is useful for indicating empty
variables—something that is not possible with a normal data type. For
instance, the following snippet shows how <code>pointer</code> can be
“emptied” using the null pointer.</p>

<pre><code class="kt">int</code> <code class="n">year</code> <code class="o">=</code> <code class="mi">1967</code><code class="p">;</code>
<code class="kt">int</code> <code class="o">*</code><code class="n">pointer</code> <code class="o">=</code> <code class="o">&amp;</code><code class="n">year</code><code class="p">;</code>
<code class="nb">NSLog</code><code class="p">(</code><code class="s">@&quot;%d&quot;</code><code class="p">,</code> <code class="o">*</code><code class="n">pointer</code><code class="p">)</code><code class="o">;</code>     <code class="c1">// Do something with the value</code>
<code class="n">pointer</code> <code class="o">=</code> <code class="kc">NULL</code><code class="p">;</code>             <code class="c1">// Then invalidate it</code>
</pre>


<p>The only way to represent an empty variable using <code>year</code> on its
own is to set it to <code>0</code>. Of course, the problem is that
<code>0</code> is still a perfectly valid value—it’s not the
<em>absence</em> of a value.</p>


<h3 id="void-pointers">Void Pointers</h3>

<p>A void pointer is a generic type that can point to <em>anything</em>.
It’s essentially a reference to an arbitrary memory address. Accordingly,
more information is required to interpret the contents of a void pointer. The
easiest way to do this is to simply cast it to a non-void pointer. For example,
the <code>(int *)</code> statement in the following code interprets the
contents of the void pointer as an <code>int</code> value.</p>

<pre><code class="kt">int</code> <code class="n">year</code> <code class="o">=</code> <code class="mi">1967</code><code class="p">;</code>
<code class="kt">void</code> <code class="o">*</code><code class="n">genericPointer</code> <code class="o">=</code> <code class="o">&amp;</code><code class="n">year</code><code class="p">;</code>
<code class="kt">int</code> <code class="o">*</code><code class="n">intPointer</code> <code class="o">=</code> <code class="p">(</code><code class="kt">int</code> <code class="o">*</code><code class="p">)</code><code class="n">genericPointer</code><code class="p">;</code>
<code class="nb">NSLog</code><code class="p">(</code><code class="s">@&quot;%d&quot;</code><code class="p">,</code> <code class="o">*</code><code class="n">intPointer</code><code class="p">)</code><code class="o">;</code>
</pre>


<p>The generic nature of void pointers affords a lot flexibility. For example,
the <a href="data-types/nsstring.html"><code>NSString</code></a>
class defines the following method for converting a C array into an Objective-C
string object:</p>

<pre><code class="k">-</code> <code class="p">(</code><code class="kt">id</code><code class="p">)</code><code class="nf">initWithBytes:</code><code class="p">(</code><code class="kt">const</code> <code class="kt">void</code> <code class="o">*</code><code class="p">)</code><code class="nv">bytes</code>
             <code class="nf">length:</code><code class="p">(</code><code class="nb">NSUInteger</code><code class="p">)</code><code class="nv">length</code>
           <code class="nf">encoding:</code><code class="p">(</code><code class="nb">NSStringEncoding</code><code class="p">)</code><code class="nv">encoding</code>
</pre>


<p>The <code>bytes</code> argument points to the first memory address of any
kind of C array, the <code>length</code> argument defines how many bytes to
read, and <code>encoding</code> determines how those bytes should be
interpreted. Using a void pointer like this makes it possible to work with
<em>any</em> type of character array. The alternative would be to define
dedicated methods for single-byte, UTF-8, and UTF-16 characters, etc.</p>


<h3 id="pointers-in-objective-c">Pointers in Objective-C</h3>

<p>This is all good background knowledge, but for your everyday Objective-C
development, you probably won’t need to use most of it. The only thing
that you really have to understand is that <em>all</em> Objective-C objects are
referenced as pointers. For instance, an <code>NSString</code> object must be
stored as a pointer, not a normal variable:</p>

<pre><code class="nb">NSString</code> <code class="o">*</code><code class="n">model</code> <code class="o">=</code> <code class="s">@&quot;Honda&quot;</code><code class="p">;</code>
</pre>


<p>When it comes to null pointers, there is a slight difference between C and
Objective-C. Whereas C uses <code>NULL</code>, Objective-C defines its own
macro, <code>nil</code>, as its null object. A good rule of thumb is to use
<code>nil</code> for variables that hold Objective-C objects and
<code>NULL</code> when working with C pointers.</p>

<pre><code class="nb">NSString</code> <code class="o">*</code><code class="n">anObject</code><code class="p">;</code>    <code class="c1">// An Objective-C object</code>
<code class="n">anObject</code> <code class="o">=</code> <code class="kc">NULL</code><code class="p">;</code>       <code class="c1">// This will work</code>
<code class="n">anObject</code> <code class="o">=</code> <code class="kc">nil</code><code class="p">;</code>        <code class="c1">// But this is preferred</code>
<code class="kt">int</code> <code class="o">*</code><code class="n">aPointer</code><code class="p">;</code>         <code class="c1">// A plain old C pointer</code>
<code class="n">aPointer</code> <code class="o">=</code> <code class="kc">nil</code><code class="p">;</code>        <code class="c1">// Don&#39;t do this</code>
<code class="n">aPointer</code> <code class="o">=</code> <code class="kc">NULL</code><code class="p">;</code>       <code class="c1">// Do this instead</code>
</pre>


<p>Outside of variable declarations, the entire Objective-C syntax is designed
to work with pointers. So, after defining an object pointer, you can basically
forget about the fact that it’s a pointer and interact with it as if it
were a normal variable. This will be made abundantly clear from the examples
throughout the rest of this tutorial.</p>


<h2 id="summary">Summary</h2>

<p>This module introduced the fundamental aspects of the C programming
language. While you’re not expected to be a C expert just yet, we hope
that you’re feeling relatively comfortable with variables, conditionals,
loops, structs, enums, and pointers. These tools form the foundation of any
Objective-C program.</p>

<p>Objective-C <em>relies</em> on C for these basic constructs, but it also
gives you the <em>option</em> of inserting C++ code directly into your source
files. To tell the compiler to interpret your source code as either C, C++, or
Objective-C, all you have to do is change the file extension to
<code>.mm</code>.</p>

<figure>
    <img style="max-width: 500px" src="media/c-basics/obj-c-and-cpp.png">
    <figcaption>Languages available to files with <code>.m</code> and
    <code>.mm</code> extensions</figcaption>
</figure>

<p>This unique language feature opens the door to the entire C/C++ ecosystem,
which is a huge boon to Objective-C developers. For example, if you’re
building an iOS game and find yourself in need of a physics engine, you can
leverage the well-known <a href="http://box2d.org/">Box2D</a> library (written
in C++) with virtually no additional work.</p>

<p>The next module will complete our discussion of C with a brief look at
functions. After that, we’ll be more than ready to start working with
Objective-C classes, methods, protocols, and the rest of its object-oriented
goodness.</p>


<div class="divider" style="margin-top: 2em; margin-bottom: 1.3em;"></div><table class="icon-and-text advert"><tr>
<td><a href="http://rypress.com/tutorials/cocoa"><img src="media/advert-image.png" width="120px" height="165px" class="cover"></a></td>
<td><p id="advert-text">Be sure to check out <a href="http://rypress.com/tutorials/cocoa">Ry’s Cocoa Tutorial</a>. This
brand new guide is a complete walkthrough of Mac App development, and it
leverages all of the Objective-C skills that we just discussed. <a href="http://rypress.com/tutorials/cocoa">Learn more ›</a></p></td>
</tr></table>
<div id='mailing-list'>

<div class='divider' style='margin: 1.8em -22px;'></div>

<h3>Mailing List</h3>

<p>Sign up for my low-volume mailing list to find out when new content is
released. Next up is a comprehensive <a
href='https://developer.apple.com/swift/'>Swift</a> tutorial planned for late
January.</p>

<form id='mailing-list-form'
	  action='/secure/mailing-list/request-add' method='get'>
<label>
	<div class='label'>Email Address:</div>
	<div class='input'>
	<input name='email'
		   style='width: 200px;'
		   type='email' />
	</div>
</label>

<input id='mailing-list-button'
	   class='button'
	   style='margin-top: .5em;'
	   type='submit' value='Subscribe'/>

</form>

<div style='clear: both'></div>

<p class='fine-print'>You&rsquo;ll only receive emails when new tutorials are
released, and your contact information will never be shared with third
parties. <a href='/secure/mailing-list/unsubscribe'>Click here</a> to
unsubscribe.</p>

</div>


<div class='divider'></div>

<footer id='footer' class='fine-print'>
  <ul>
  	<li><a href='/licensing.php'>&copy; 2012-2014</a></li>
	<li><a href='/'>RyPress.com</a></li>
	<li>
		<a href='/licensing.php'>All Rights Reserved</a>
	</li>
	<li>
		<a href='/tos.php'>Terms&nbsp;of&nbsp;Service</a>
	</li>
	<li>
		<a href='/privacy.php'>Privacy Policy</a>
	</li>
  </ul>
</footer>

</div>		<!-- .content -->
</div>		<!-- .page -->
</body>
</html>